# ============================================
# RAG Service - Environment Configuration
# ============================================
# Copy this file to .env and fill in your values
# IMPORTANT: Never commit .env with real credentials to git

# ============================================
# OPENAI CONFIGURATION
# ============================================
# Get your API key from https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# Model for creating embeddings (recommended: text-embedding-3-large)
EMBEDDING_MODEL=text-embedding-3-large

# Model for chat responses (recommended: gpt-4-turbo-preview or gpt-4)
CHAT_MODEL=gpt-4-turbo-preview

# ============================================
# SUPABASE CONFIGURATION
# ============================================
# Create a project at https://supabase.com
# Get URL from Project Settings > API > Project URL
SUPABASE_URL=https://your-project.supabase.co

# Get key from Project Settings > API > Project API keys > service_role (anon key is not enough!)
SUPABASE_KEY=your-supabase-service-key-here

# ============================================
# DOCUMENT PROCESSING
# ============================================
# Maximum characters per text chunk
CHUNK_SIZE=500

# Characters to overlap between chunks for context preservation
CHUNK_OVERLAP=50

# Local path containing .docx files to index
# Windows example: C:\Users\YourUser\Documents\RAG_Documents
# Linux example: /home/user/rag_documents
# Docker: /app/documents (will be mounted from host)
DOCUMENTS_PATH=/app/documents

# ============================================
# JWT AUTHENTICATION
# ============================================
# Secret key for signing JWT tokens
# IMPORTANT: Use a strong, random value in production (min 32 characters)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=your-secret-key-change-this-in-production-min-32-chars

# Algorithm for JWT encoding
JWT_ALGORITHM=HS256

# Access token expiration time in minutes
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Refresh token expiration time in days
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# EMAIL CONFIGURATION (Optional - for password reset)
# ============================================
# SMTP server host
SMTP_HOST=smtp.gmail.com

# SMTP server port
SMTP_PORT=587

# SMTP username (email address)
# For Gmail: Use your Gmail address
# For Gmail with 2FA: Use an App Password from https://myaccount.google.com/apppasswords
SMTP_USER=your-email@gmail.com

# SMTP password or app password
SMTP_PASSWORD=your-app-password-here

# Email address to send from
EMAIL_FROM=your-email@gmail.com

# ============================================
# APPLICATION SETTINGS
# ============================================
# Environment: development, testing, production
# ENVIRONMENT=development

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# LOG_LEVEL=INFO

# ============================================
# DOCKER COMPOSE SETTINGS (for docker-compose)
# ============================================
# Compose project name
# COMPOSE_PROJECT_NAME=rag-service

# ============================================
# PRODUCTION SETTINGS (Only if using docker-compose.prod.yml)
# ============================================
# Domain name for SSL/TLS
# DOMAIN_NAME=your-domain.com

# Enable HTTPS (requires valid SSL certificates)
# ENABLE_HTTPS=false

# Number of Uvicorn workers
# WORKERS=4

# Database pool size
# DB_POOL_SIZE=20

# ============================================
# SECURITY NOTES
# ============================================
# ðŸ”’ IMPORTANT SECURITY REMINDERS:
# 1. Never commit .env file with real credentials to git
# 2. Add .env to .gitignore (already done)
# 3. For production:
#    - Use strong, random JWT_SECRET_KEY
#    - Use production Supabase project
#    - Use production OpenAI API key (or separate tier)
#    - Use environment-specific configurations
#    - Never expose .env in logs or error messages
# 4. Rotate secrets regularly
# 5. Use .env.prod for production with different values
# 6. For Azure/cloud deployments: Use Key Vault instead of .env

# ============================================
# TESTING CONFIGURATION (.env.test)
# ============================================
# When running tests, use .env.test instead:
# pytest --env-file=.env.test
# All external services are mocked in tests, so test values can be dummy
